{
  "name": "Assistente JurÃ­dico PJe",
  "image": "mcr.microsoft.com/devcontainers/typescript-node:22",
  "hostRequirements": {
    "cpus": 8,
    "memory": "32gb",
    "storage": "32gb"
  },
  "features": {
    "ghcr.io/devcontainers/features/node:1": {
      "version": "22"
    },
    "ghcr.io/devcontainers/features/java:1": {
      "version": "21"
    }
  },
  "customizations": {
    "vscode": {
      "extensions": [
        "dbaeumer.vscode-eslint",
        "esbenp.prettier-vscode",
        "bradlc.vscode-tailwindcss",
        "GitHub.copilot",
        "GitHub.copilot-chat",
        "GitHub.vscode-pull-request-github",
        "ms-playwright.playwright",
        "SonarSource.sonarlint-vscode",
        "vscjava.vscode-java-pack",
        "GitHub.codespaces",
        "google.geminicodeassist",
        "MS-SarifVSCode.sarif-viewer",
        "trailofbits.sarif-explorer",
        "ms-dotnettools.vscode-dotnet-runtime",
        "golang.go",
        "sonar-copilot-assistant.sonar-copilot-assistant",
        "ms-windows-ai-studio.windows-ai-studio",
        "coderabbit.coderabbit-vscode",
        "ms-azuretools.vscode-azure-github-copilot",
        "ms-codespaces-tools.ado-codespaces-auth",
        "frenco.vscode-vercel",
        "ms-edgedevtools.vscode-edge-devtools",
        "QuentinN42.sentry-issues-viewer"
      ],
      "settings": {
        // ========================================
        // ðŸ¤– GITHUB COPILOT - AUTOMAÃ‡ÃƒO MÃXIMA
        // ========================================
        "github.copilot.enable": {
          "*": true,
          "yaml": true,
          "plaintext": true,
          "markdown": true,
          "typescript": true,
          "typescriptreact": true,
          "javascript": true,
          "json": true
        },
        "github.copilot.chat.enable": true,
        "github.copilot.chat.useInstructionFiles": true,
        "github.copilot.inlineSuggest.enable": true,
        "github.copilot.editor.enableAutoCompletions": true,

        // ðŸš€ FERRAMENTAS DE EDIÃ‡ÃƒO - Sem confirmaÃ§Ã£o
        "chat.editing.enabled": true,
        "chat.editing.confirmEditRequestRemoval": false,
        "chat.extensionTools.enabled": true,
        "chat.tools.terminal.autoApprove": true,
        "chat.tools.terminal.autoReplyToPrompts": true,
        "github.copilot.chat.defaultToolset": "fullEditingTools",

        // ðŸ¤– AGENTE DE CODIFICAÃ‡ÃƒO - AutomaÃ§Ã£o total
        "githubPullRequests.codingAgent.enabled": true,
        "githubPullRequests.codingAgent.autoDelegate": true,
        "githubPullRequests.codingAgent.uiIntegration": true,
        "githubPullRequests.pullRequestCardEnabled": true,
        "chat.agentSessionsViewLocation": "view",

        // ========================================
        // ðŸ”’ SEGURANÃ‡A E WORKSPACE TRUST
        // ========================================
        // WARNING: Trust workspace enabled for seamless automation
        "security.workspace.trust.enabled": true,
        "security.workspace.trust.untrustedFiles": "open",
        "security.workspace.trust.emptyWindow": true,

        // ========================================
        // ðŸ“¦ GIT AUTOMÃTICO
        // ========================================
        "git.enableSmartCommit": true,
        "git.autofetch": true,
        "git.confirmSync": false,
        "git.fetchOnPull": true,
        "git.pruneOnFetch": true,

        // ========================================
        // ðŸ› ï¸ TASKS E AUTOMAÃ‡ÃƒO
        // ========================================
        "task.allowAutomaticTasks": "on",
        "task.autoDetect": "on",
        "task.problemMatchers.neverPrompt": true,
        "task.saveBeforeRun": "always",

        // ========================================
        // âœï¸ EDITOR - FORMATAÃ‡ÃƒO AUTOMÃTICA
        // ========================================
        "editor.formatOnSave": true,
        "editor.formatOnPaste": true,
        "editor.defaultFormatter": "esbenp.prettier-vscode",
        "editor.codeActionsOnSave": {
          "source.fixAll.eslint": "explicit",
          "source.organizeImports": "explicit"
        },
        "files.autoSave": "afterDelay",
        "files.autoSaveDelay": 1000,
        "files.trimTrailingWhitespace": true,
        "files.insertFinalNewline": true,

        // ========================================
        // ðŸ”§ TYPESCRIPT E TERMINAL
        // ========================================
        "typescript.preferences.importModuleSpecifier": "relative",
        "typescript.updateImportsOnFileMove.enabled": "always",
        "typescript.suggest.autoImports": true,
        "terminal.integrated.shellIntegration.enabled": true,
        "terminal.integrated.shellIntegration.decorationsEnabled": "both",

        // ========================================
        // ðŸ§ª EXTENSÃ•ES E ATUALIZAÃ‡Ã•ES
        // ========================================
        "extensions.autoCheckUpdates": true,
        "extensions.autoUpdate": true,
        "chat.useNestedAgentsMdFiles": true,

        // ========================================
        // ðŸ“Š TELEMETRIA
        // ========================================
        "telemetry.telemetryLevel": "off",
        "redhat.telemetry.enabled": false
      }
    }
  },
  "postCreateCommand": "npm install",
  // Rodar auto-init ao iniciar o container (de maneira nÃ£o bloqueante)
  "postStartCommand": "bash auto-init.sh > /tmp/auto-init.log 2>&1 &",
  "forwardPorts": [5173, 5000],
  "portsAttributes": {
    "5173": {
      "label": "Vite Dev Server",
      "onAutoForward": "notify"
    },
    "5000": {
      "label": "Preview Server",
      "onAutoForward": "notify"
    }
  },
  "remoteUser": "node"
}
