name: Code Integrity & Integration Check

on:
  # Removido: push trigger - CI.yml jÃ¡ faz verificaÃ§Ãµes bÃ¡sicas
  # Manter apenas em PRs para verificaÃ§Ãµes mais profundas
  pull_request:
    branches: [main, develop]
  schedule:
    # Executar diariamente Ã s 8h UTC (5h BrasÃ­lia)
    - cron: "0 8 * * *"
  workflow_dispatch:
    inputs:
      check_type:
        description: "Tipo de verificaÃ§Ã£o"
        required: false
        default: "full"
        type: choice
        options:
          - full
          - mock-data-only
          - integration-only
          - unused-code

concurrency:
  group: code-integrity-${{ github.ref }}
  cancel-in-progress: true

jobs:
  # ==========================================
  # ðŸ” DETECTAR DADOS SIMULADOS/FALSOS
  # ==========================================

  detect-mock-data:
    name: "ðŸ” Detectar Dados Simulados"
    runs-on: ubuntu-latest
    timeout-minutes: 20
    if: github.event_name != 'workflow_dispatch' || github.event.inputs.check_type == 'full' || github.event.inputs.check_type == 'mock-data-only'

    steps:
      - name: ðŸ“¥ Checkout cÃ³digo
        uses: actions/checkout@v4

      - name: ðŸ”§ Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: "22.x"
          cache: "npm"
          cache-dependency-path: package-lock.json

      - name: Cache dependencies
        uses: actions/cache@v4
        with:
          path: ~/.npm
          key: ${{ runner.os }}-code-integrity-${{ hashFiles('package-lock.json') }}
          restore-keys: |
            ${{ runner.os }}-code-integrity-
            ${{ runner.os }}-

      - name: ðŸ“¦ Instalar dependÃªncias
        run: npm ci

      - name: ðŸ” Detectar dados mockados em cÃ³digo de produÃ§Ã£o
        id: detect-mocks
        run: |
          echo "## ðŸ” AnÃ¡lise de Dados Simulados/Mockados" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY

          # Arquivos para ignorar (testes, exemplos, etc)
          IGNORE_PATTERNS="\.test\.|\.spec\.|__tests__|__mocks__|sample-data\.ts|test/|mock/"

          # PadrÃµes de dados simulados
          MOCK_PATTERNS=(
            "mock[A-Z]"
            "fake[A-Z]"
            "dummy[A-Z]"
            "MOCK_"
            "FAKE_"
            "hardcoded"
            "= 'test-"
            "= \"test-"
            "simulad"
            "fictÃ­ci"
          )

          echo "### ðŸ“Š Arquivos com possÃ­veis dados simulados" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "| Arquivo | Linha | PadrÃ£o | Contexto |" >> $GITHUB_STEP_SUMMARY
          echo "|---------|-------|--------|----------|" >> $GITHUB_STEP_SUMMARY

          MOCK_COUNT=0

          for pattern in "${MOCK_PATTERNS[@]}"; do
            while IFS=: read -r file line content; do
              # Ignorar arquivos de teste
              if echo "$file" | grep -qE "$IGNORE_PATTERNS"; then
                continue
              fi
              
              # Ignorar node_modules e dist
              if echo "$file" | grep -qE "node_modules|dist/|\.d\.ts$"; then
                continue
              fi
              
              MOCK_COUNT=$((MOCK_COUNT + 1))
              # Truncar conteÃºdo para caber na tabela
              SHORT_CONTENT=$(echo "$content" | head -c 60 | tr '\n' ' ')
              echo "| \`$file\` | $line | \`$pattern\` | $SHORT_CONTENT... |" >> $GITHUB_STEP_SUMMARY
            done < <(grep -rn "$pattern" src/ api/ lib/ 2>/dev/null || true)
          done

          echo "" >> $GITHUB_STEP_SUMMARY
          echo "**Total de ocorrÃªncias:** $MOCK_COUNT" >> $GITHUB_STEP_SUMMARY
          echo "mock_count=$MOCK_COUNT" >> $GITHUB_OUTPUT

          # Verificar dados hardcoded especÃ­ficos
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "### ðŸ”¢ Dados Hardcoded Suspeitos" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY

          # CPF/CNPJ hardcoded
          CPF_COUNT=$(grep -rn "[0-9]\{3\}\.[0-9]\{3\}\.[0-9]\{3\}-[0-9]\{2\}" src/ api/ lib/ 2>/dev/null | grep -v test | wc -l || echo "0")
          echo "- CPFs hardcoded: $CPF_COUNT" >> $GITHUB_STEP_SUMMARY

          # OAB hardcoded
          OAB_COUNT=$(grep -rn "OAB.*[0-9]\{4,6\}" src/ api/ lib/ 2>/dev/null | grep -v test | grep -v type | wc -l || echo "0")
          echo "- OABs hardcoded: $OAB_COUNT" >> $GITHUB_STEP_SUMMARY

          # NÃºmeros de processo hardcoded
          PROC_COUNT=$(grep -rn "[0-9]\{7\}-[0-9]\{2\}\.[0-9]\{4\}\.[0-9]\.[0-9]\{2\}\.[0-9]\{4\}" src/ api/ lib/ 2>/dev/null | grep -v test | wc -l || echo "0")
          echo "- Processos hardcoded: $PROC_COUNT" >> $GITHUB_STEP_SUMMARY

      - name: ðŸŽ¯ Verificar uso de sample-data em produÃ§Ã£o
        run: |
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "### ðŸ“¦ Uso de Sample Data" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY

          # Verificar onde sample-data Ã© importado
          echo "**Arquivos que importam sample-data:**" >> $GITHUB_STEP_SUMMARY
          grep -rln "from.*sample-data\|import.*sample-data" src/ api/ lib/ 2>/dev/null | while read file; do
            echo "- \`$file\`" >> $GITHUB_STEP_SUMMARY
          done

          # Verificar se sample-data Ã© usado condicionalmente
          echo "" >> $GITHUB_STEP_SUMMARY
          if grep -rq "NODE_ENV.*sample\|APP_ENV.*sample\|isDev.*sample\|isProduction.*sample" src/ 2>/dev/null; then
            echo "âœ… Sample data parece ter uso condicional (dev/prod)" >> $GITHUB_STEP_SUMMARY
          else
            echo "âš ï¸ Sample data pode estar sendo usado incondicionalmente" >> $GITHUB_STEP_SUMMARY
          fi

      - name: ðŸ“Š Verificar console.logs em produÃ§Ã£o
        run: |
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "### ðŸ–¥ï¸ Console Statements" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY

          CONSOLE_COUNT=$(grep -rn "console\.\(log\|debug\|info\)" src/ 2>/dev/null | grep -v "\.test\.\|\.spec\.\|__test" | wc -l || echo "0")
          echo "- console.log/debug/info: $CONSOLE_COUNT ocorrÃªncias" >> $GITHUB_STEP_SUMMARY

          if [ "$CONSOLE_COUNT" -gt 50 ]; then
            echo "âš ï¸ Muitos console statements em cÃ³digo de produÃ§Ã£o" >> $GITHUB_STEP_SUMMARY
          else
            echo "âœ… Quantidade de console statements aceitÃ¡vel" >> $GITHUB_STEP_SUMMARY
          fi

  # ==========================================
  # ðŸ”— VERIFICAR INTEGRAÃ‡Ã•ES
  # ==========================================

  check-integrations:
    name: "ðŸ”— Verificar IntegraÃ§Ãµes"
    runs-on: ubuntu-latest
    if: github.event_name != 'workflow_dispatch' || github.event.inputs.check_type == 'full' || github.event.inputs.check_type == 'integration-only'

    steps:
      - name: ðŸ“¥ Checkout cÃ³digo
        uses: actions/checkout@v4

      - name: ðŸ”§ Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: "22.x"
          cache: "npm"

      - name: ðŸ“¦ Instalar dependÃªncias
        run: npm ci

      - name: ðŸ”— Verificar conexÃµes entre mÃ³dulos
        run: |
          echo "## ðŸ”— AnÃ¡lise de IntegraÃ§Ãµes" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY

          # Mapeamento de integraÃ§Ãµes esperadas
          echo "### ðŸ“Š Mapa de IntegraÃ§Ãµes" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "| Componente | Conecta com | Status |" >> $GITHUB_STEP_SUMMARY
          echo "|------------|-------------|--------|" >> $GITHUB_STEP_SUMMARY

          # AIAgents -> use-autonomous-agents
          if grep -q "useAutonomousAgents" src/components/AIAgents.tsx 2>/dev/null; then
            echo "| AIAgents.tsx | use-autonomous-agents | âœ… Conectado |" >> $GITHUB_STEP_SUMMARY
          else
            echo "| AIAgents.tsx | use-autonomous-agents | âŒ Desconectado |" >> $GITHUB_STEP_SUMMARY
          fi

          # use-autonomous-agents -> api/agents
          if grep -q "api/agents\|/api/kv" src/hooks/use-autonomous-agents.ts 2>/dev/null; then
            echo "| use-autonomous-agents | API Agents | âœ… Conectado |" >> $GITHUB_STEP_SUMMARY
          else
            echo "| use-autonomous-agents | API Agents | âš ï¸ Verificar |" >> $GITHUB_STEP_SUMMARY
          fi

          # Agent Schemas -> Agents
          if grep -q "AgentTaskInput\|AgentTaskOutput" src/lib/agents.ts 2>/dev/null; then
            echo "| agents.ts | agent-schemas.ts | âœ… Conectado |" >> $GITHUB_STEP_SUMMARY
          else
            echo "| agents.ts | agent-schemas.ts | âš ï¸ Verificar |" >> $GITHUB_STEP_SUMMARY
          fi

          # Auto-Pilot -> DJEN Monitor
          if grep -q "criarMonitorDJEN\|DJENMonitorConfig" src/lib/auto-pilot-djen-prazos-minutas.ts 2>/dev/null; then
            echo "| auto-pilot | djen-monitor-agent | âœ… Conectado |" >> $GITHUB_STEP_SUMMARY
          else
            echo "| auto-pilot | djen-monitor-agent | âš ï¸ Verificar |" >> $GITHUB_STEP_SUMMARY
          fi

          # Google Services Hub -> Auto-Pilot
          if grep -q "AutoPilotDjenPrazosMinutas\|criarAutoPilotDjenPrazosMinutas" src/lib/google-services-hub.ts 2>/dev/null; then
            echo "| google-services-hub | auto-pilot | âœ… Conectado |" >> $GITHUB_STEP_SUMMARY
          else
            echo "| google-services-hub | auto-pilot | âš ï¸ Verificar |" >> $GITHUB_STEP_SUMMARY
          fi

          # Minuta Agent -> Google Docs
          if grep -q "googleDocsService" src/lib/minuta-agent.ts 2>/dev/null; then
            echo "| minuta-agent | google-docs-service | âœ… Conectado |" >> $GITHUB_STEP_SUMMARY
          else
            echo "| minuta-agent | google-docs-service | âš ï¸ Verificar |" >> $GITHUB_STEP_SUMMARY
          fi

          # DJEN Client -> api/legal-services ou api/cron
          if grep -q "djen\|DJEN" api/cron.ts api/legal-services.ts 2>/dev/null; then
            echo "| DJEN Client | API Cron/Legal | âœ… Conectado |" >> $GITHUB_STEP_SUMMARY
          else
            echo "| DJEN Client | API Cron/Legal | âŒ Desconectado |" >> $GITHUB_STEP_SUMMARY
          fi

          # KV Utils -> Upstash Redis
          if grep -q "UPSTASH\|@upstash/redis" api/lib/kv-utils.ts api/kv.ts 2>/dev/null; then
            echo "| KV Utils | Upstash Redis | âœ… Conectado |" >> $GITHUB_STEP_SUMMARY
          else
            echo "| KV Utils | Upstash Redis | âŒ Desconectado |" >> $GITHUB_STEP_SUMMARY
          fi

          # ProcessCRM -> useKV
          if grep -q "useKV" src/components/ProcessCRM.tsx 2>/dev/null; then
            echo "| ProcessCRM | useKV (Upstash) | âœ… Conectado |" >> $GITHUB_STEP_SUMMARY
          else
            echo "| ProcessCRM | useKV (Upstash) | âš ï¸ Verificar |" >> $GITHUB_STEP_SUMMARY
          fi

          # Dashboard -> useKV
          if grep -q "useKV" src/components/Dashboard.tsx 2>/dev/null; then
            echo "| Dashboard | useKV (Upstash) | âœ… Conectado |" >> $GITHUB_STEP_SUMMARY
          else
            echo "| Dashboard | useKV (Upstash) | âš ï¸ Verificar |" >> $GITHUB_STEP_SUMMARY
          fi

          # MinutasManager -> GoogleDocsService
          if grep -q "googleDocsService" src/components/MinutasManager.tsx 2>/dev/null; then
            echo "| MinutasManager | GoogleDocsService | âœ… Conectado |" >> $GITHUB_STEP_SUMMARY
          else
            echo "| MinutasManager | GoogleDocsService | âš ï¸ Verificar |" >> $GITHUB_STEP_SUMMARY
          fi

          # MinutasManager -> TiptapEditor (lazy loading)
          if grep -q "lazy.*TiptapEditor" src/components/MinutasManager.tsx 2>/dev/null; then
            echo "| MinutasManager | TiptapEditor (lazy) | âœ… Conectado |" >> $GITHUB_STEP_SUMMARY
          else
            echo "| MinutasManager | TiptapEditor | âš ï¸ Sem lazy loading |" >> $GITHUB_STEP_SUMMARY
          fi

          # GoogleDocsService -> config.ts
          if grep -q "import.*config.*from.*config" src/lib/google-docs-service.ts 2>/dev/null; then
            echo "| GoogleDocsService | config.ts | âœ… Usando config centralizado |" >> $GITHUB_STEP_SUMMARY
          else
            echo "| GoogleDocsService | config.ts | âš ï¸ Verificar imports |" >> $GITHUB_STEP_SUMMARY
          fi

          # TiptapEditor -> Phosphor Icons (type import)
          if grep -q "type Icon.*from.*phosphor" src/components/editor/TiptapEditor.tsx 2>/dev/null; then
            echo "| TiptapEditor | Phosphor Icons | âœ… Type import OK |" >> $GITHUB_STEP_SUMMARY
          else
            echo "| TiptapEditor | Phosphor Icons | âš ï¸ Verificar tree-shaking |" >> $GITHUB_STEP_SUMMARY
          fi

      - name: ðŸ§ª Verificar funÃ§Ãµes exportadas vs usadas
        run: |
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "### ðŸ“¤ Exports vs Imports" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY

          # Verificar exports de lib/ai
          echo "**lib/ai exports:**" >> $GITHUB_STEP_SUMMARY
          if [ -d "lib/ai" ]; then
            grep -h "^export" lib/ai/*.ts 2>/dev/null | head -20 | while read line; do
              echo "- \`$line\`" >> $GITHUB_STEP_SUMMARY
            done
          else
            echo "- DiretÃ³rio lib/ai nÃ£o encontrado" >> $GITHUB_STEP_SUMMARY
          fi

          # Verificar exports de api/lib
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "**api/lib exports:**" >> $GITHUB_STEP_SUMMARY
          if [ -d "api/lib" ]; then
            grep -h "^export" api/lib/*.ts 2>/dev/null | head -20 | while read line; do
              echo "- \`$line\`" >> $GITHUB_STEP_SUMMARY
            done
          fi

      - name: ðŸ”„ Verificar ciclos de dependÃªncia
        run: |
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "### ðŸ”„ AnÃ¡lise de DependÃªncias Circulares" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY

          # Instalar madge para anÃ¡lise de dependÃªncias
          npm install -g madge 2>/dev/null || true

          # Executar anÃ¡lise de ciclos
          if command -v madge &> /dev/null; then
            CYCLES=$(madge --circular --extensions ts,tsx src/ 2>/dev/null || true)
            if [ -z "$CYCLES" ]; then
              echo "âœ… Nenhum ciclo de dependÃªncia detectado" >> $GITHUB_STEP_SUMMARY
            else
              echo "âš ï¸ Ciclos de dependÃªncia encontrados:" >> $GITHUB_STEP_SUMMARY
              echo "\`\`\`" >> $GITHUB_STEP_SUMMARY
              echo "$CYCLES" >> $GITHUB_STEP_SUMMARY
              echo "\`\`\`" >> $GITHUB_STEP_SUMMARY
            fi
          else
            echo "âš ï¸ madge nÃ£o disponÃ­vel para anÃ¡lise de ciclos" >> $GITHUB_STEP_SUMMARY
          fi

      - name: ðŸ“¡ Verificar endpoints da API
        run: |
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "### ðŸ“¡ Mapa de Endpoints API" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "| Endpoint | Handler | MÃ©todos |" >> $GITHUB_STEP_SUMMARY
          echo "|----------|---------|---------|" >> $GITHUB_STEP_SUMMARY

          # Listar todos os endpoints
          for file in api/*.ts api/**/*.ts; do
            if [ -f "$file" ]; then
              # Extrair path do arquivo
              ENDPOINT=$(echo "$file" | sed 's|api/|/api/|' | sed 's|\.ts$||' | sed 's|/index$||')
              
              # Detectar mÃ©todos HTTP
              METHODS=""
              if grep -q "req.method.*GET\|GET.*req.method" "$file" 2>/dev/null; then
                METHODS="GET "
              fi
              if grep -q "req.method.*POST\|POST.*req.method" "$file" 2>/dev/null; then
                METHODS="${METHODS}POST "
              fi
              if grep -q "req.method.*PUT\|PUT.*req.method" "$file" 2>/dev/null; then
                METHODS="${METHODS}PUT "
              fi
              if grep -q "req.method.*DELETE\|DELETE.*req.method" "$file" 2>/dev/null; then
                METHODS="${METHODS}DELETE "
              fi
              
              # Se nÃ£o encontrou mÃ©todos especÃ­ficos, provavelmente aceita todos
              if [ -z "$METHODS" ]; then
                METHODS="ALL"
              fi
              
              BASENAME=$(basename "$file")
              echo "| \`$ENDPOINT\` | $BASENAME | $METHODS |" >> $GITHUB_STEP_SUMMARY
            fi
          done

  # ==========================================
  # ðŸ§¹ CÃ“DIGO NÃƒO UTILIZADO
  # ==========================================

  detect-unused-code:
    name: "ðŸ§¹ Detectar CÃ³digo NÃ£o Utilizado"
    runs-on: ubuntu-latest
    if: github.event_name != 'workflow_dispatch' || github.event.inputs.check_type == 'full' || github.event.inputs.check_type == 'unused-code'

    steps:
      - name: ðŸ“¥ Checkout cÃ³digo
        uses: actions/checkout@v4

      - name: ðŸ”§ Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: "22.x"
          cache: "npm"

      - name: ðŸ“¦ Instalar dependÃªncias
        run: npm ci

      - name: ðŸ” Detectar exports nÃ£o utilizados
        run: |
          echo "## ðŸ§¹ AnÃ¡lise de CÃ³digo NÃ£o Utilizado" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY

          # Instalar ts-prune para anÃ¡lise
          npm install -g ts-prune 2>/dev/null || true

          if command -v ts-prune &> /dev/null; then
            echo "### ðŸ“¤ Exports Potencialmente NÃ£o Utilizados" >> $GITHUB_STEP_SUMMARY
            echo "" >> $GITHUB_STEP_SUMMARY
            echo "\`\`\`" >> $GITHUB_STEP_SUMMARY
            ts-prune 2>/dev/null | head -50 >> $GITHUB_STEP_SUMMARY || echo "AnÃ¡lise nÃ£o disponÃ­vel"
            echo "\`\`\`" >> $GITHUB_STEP_SUMMARY
          else
            echo "âš ï¸ ts-prune nÃ£o disponÃ­vel" >> $GITHUB_STEP_SUMMARY
          fi

      - name: ðŸ” Detectar arquivos Ã³rfÃ£os
        run: |
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "### ðŸ“ Arquivos Potencialmente Ã“rfÃ£os" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY

          # Verificar arquivos .ts/.tsx que nÃ£o sÃ£o importados em lugar nenhum
          ORPHAN_COUNT=0
          for file in src/lib/*.ts src/components/*.tsx; do
            if [ -f "$file" ]; then
              BASENAME=$(basename "$file" | sed 's/\.[^.]*$//')
              
              # Verificar se Ã© importado em algum lugar
              IMPORT_COUNT=$(grep -r "from.*$BASENAME\|import.*$BASENAME" src/ 2>/dev/null | grep -v "$file" | wc -l)
              
              if [ "$IMPORT_COUNT" -eq 0 ]; then
                echo "- \`$file\` (0 imports)" >> $GITHUB_STEP_SUMMARY
                ORPHAN_COUNT=$((ORPHAN_COUNT + 1))
              fi
            fi
          done

          if [ "$ORPHAN_COUNT" -eq 0 ]; then
            echo "âœ… Nenhum arquivo Ã³rfÃ£o detectado" >> $GITHUB_STEP_SUMMARY
          fi

  # ==========================================
  # ðŸ“Š RELATÃ“RIO CONSOLIDADO
  # ==========================================

  generate-report:
    name: "ðŸ“Š Gerar RelatÃ³rio"
    runs-on: ubuntu-latest
    needs: [detect-mock-data, check-integrations, detect-unused-code]
    if: always()

    steps:
      - name: ðŸ“Š Consolidar Resultados
        run: |
          echo "## ðŸ“Š RelatÃ³rio de Integridade do CÃ³digo" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "**Data:** $(date -u)" >> $GITHUB_STEP_SUMMARY
          echo "**Commit:** ${{ github.sha }}" >> $GITHUB_STEP_SUMMARY
          echo "**Branch:** ${{ github.ref_name }}" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY

          echo "### Status dos Jobs" >> $GITHUB_STEP_SUMMARY
          echo "| Job | Status |" >> $GITHUB_STEP_SUMMARY
          echo "|-----|--------|" >> $GITHUB_STEP_SUMMARY
          echo "| Detectar Dados Simulados | ${{ needs.detect-mock-data.result }} |" >> $GITHUB_STEP_SUMMARY
          echo "| Verificar IntegraÃ§Ãµes | ${{ needs.check-integrations.result }} |" >> $GITHUB_STEP_SUMMARY
          echo "| Detectar CÃ³digo NÃ£o Utilizado | ${{ needs.detect-unused-code.result }} |" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY

          # RecomendaÃ§Ãµes
          echo "### ðŸ’¡ RecomendaÃ§Ãµes" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "1. **Dados Mockados**: Revise e remova dados simulados do cÃ³digo de produÃ§Ã£o" >> $GITHUB_STEP_SUMMARY
          echo "2. **IntegraÃ§Ãµes**: Verifique se todas as conexÃµes entre mÃ³dulos estÃ£o funcionando" >> $GITHUB_STEP_SUMMARY
          echo "3. **CÃ³digo Morto**: Considere remover exports e arquivos nÃ£o utilizados" >> $GITHUB_STEP_SUMMARY
          echo "4. **Console Logs**: Remova ou proteja console.log em cÃ³digo de produÃ§Ã£o" >> $GITHUB_STEP_SUMMARY
