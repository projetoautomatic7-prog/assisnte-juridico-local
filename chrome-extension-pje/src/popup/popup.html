<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PJe Sync - Assistente Jur√≠dico</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header>
        <div class="header-content">
          <img src="assets/icon-48.png" alt="Logo" class="logo" />
          <div>
            <h1>PJe Sync</h1>
            <p class="subtitle">Assistente Jur√≠dico</p>
          </div>
        </div>
      </header>

      <!-- Status -->
      <section class="status">
        <div class="status-indicator">
          <span class="dot" id="statusDot"></span>
          <span class="status-text" id="statusText">Verificando...</span>
        </div>
        <p class="last-sync" id="lastSync">√öltima sincroniza√ß√£o: Nunca</p>
      </section>

      <!-- Configura√ß√£o -->
      <section class="config">
        <h2>‚öôÔ∏è Configura√ß√£o</h2>

        <div class="form-group">
          <label for="apiKey">API Key:</label>
          <div class="input-group">
            <input type="password" id="apiKey" placeholder="Cole sua API Key aqui" />
            <button id="toggleApiKey" class="btn-icon" title="Mostrar/Ocultar">üëÅÔ∏è</button>
          </div>
          <button id="saveApiKey" class="btn-primary">Salvar</button>
        </div>

        <p class="help-text">
          <a href="https://assistente-juridico-github.vercel.app/settings/api-keys" target="_blank">
            üìñ Onde encontrar minha API Key?
          </a>
        </p>
      </section>

      <!-- Estat√≠sticas -->
      <section class="stats">
        <h2>üìä Estat√≠sticas</h2>
        <div class="stats-grid">
          <div class="stat-card">
            <span class="stat-value" id="processosCount">0</span>
            <span class="stat-label">Processos</span>
          </div>
          <div class="stat-card">
            <span class="stat-value" id="expedientesCount">0</span>
            <span class="stat-label">Hoje</span>
          </div>
        </div>
      </section>

      <!-- Crawler Section -->
      <section class="crawler" id="crawlerSection">
        <h2>üï∑Ô∏è Crawler de Documentos</h2>

        <div class="crawler-status">
          <div class="crawler-indicator">
            <span class="crawler-dot" id="crawlerDot"></span>
            <span id="crawlerStatusText">Parado</span>
          </div>
          <div class="crawler-stats">
            <span id="crawlerQueue">Fila: 0</span>
            <span id="crawlerCompleted">Completos: 0</span>
          </div>
        </div>

        <div class="crawler-progress" id="crawlerProgress" style="display: none">
          <div class="progress-bar">
            <div class="progress-fill" id="crawlerProgressFill"></div>
          </div>
          <span class="progress-text" id="crawlerProgressText">0%</span>
        </div>

        <div class="crawler-actions">
          <button id="crawlerStart" class="btn-crawler btn-start">‚ñ∂Ô∏è Iniciar</button>
          <button id="crawlerPause" class="btn-crawler btn-pause" disabled>‚è∏Ô∏è Pausar</button>
          <button id="crawlerStop" class="btn-crawler btn-stop" disabled>‚èπÔ∏è Parar</button>
        </div>

        <p class="help-text crawler-help">
          O crawler extrai automaticamente o texto completo de todos os documentos dos processos
          sincronizados.
        </p>
      </section>

      <!-- A√ß√µes -->
      <section class="actions">
        <button id="syncNow" class="btn-secondary">üîÑ Sincronizar Agora</button>
        <button id="openDashboard" class="btn-secondary">üìä Abrir Dashboard</button>
        <button id="openSettings" class="btn-secondary">‚öôÔ∏è Configura√ß√µes</button>
      </section>

      <!-- Footer -->
      <footer>
        <p>
          Vers√£o 1.0.0 |
          <a href="https://docs.assistente-juridico.com" target="_blank">Documenta√ß√£o</a>
        </p>
      </footer>
    </div>

    <script src="popup.js"></script>
  </body>
</html>
