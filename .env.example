# Exemplo de variáveis de ambiente para o Assistente Jurídico PJe
# Copie este arquivo para .env e preencha com seus valores reais

# ============================================
# CONFIGURAÇÃO DO GOOGLE OAUTH (OPCIONAL QUANDO VITE_AUTH_MODE=simple)
# ============================================
# Google Cloud Console: https://console.cloud.google.com/apis/credentials
# Documentação: OAUTH_SETUP.md

# Client ID do Google OAuth 2.0 (necessário apenas se VITE_AUTH_MODE=google)
VITE_GOOGLE_CLIENT_ID=

# URI de redirecionamento (use http://localhost:5173 para desenvolvimento) (modo google)
VITE_REDIRECT_URI=

# ============================================
# MODO DE AUTENTICAÇÃO (DEV)
# ============================================
# Use 'simple' para login local (adm/adm123) em desenvolvimento
# Use 'google' para autenticação via Google
VITE_AUTH_MODE=simple

# ============================================
# SCHEDULER DJEN - MONITORAMENTO AUTOMÁTICO
# ============================================
# Habilita o monitoramento automático do DJEN (true/false)
DJEN_SCHEDULER_ENABLED=false

# Timezone para os jobs (padrão: America/Sao_Paulo)
TZ=America/Sao_Paulo

# Dados do advogado padrão para monitoramento
# IMPORTANTE: Substitua pelos dados reais. Não versione dados sensíveis no .env (use apenas .env.example)
DJEN_OAB_NUMERO=000000
DJEN_OAB_UF=XX
DJEN_ADVOGADO_NOME=Nome do Advogado Exemplo

# ============================================
# NOTIFICAÇÕES POR EMAIL
# ============================================
# Habilita envio de emails sobre novas publicações (true/false)
EMAIL_NOTIFICACAO_ENABLED=false

# Email de destino para notificações
EMAIL_NOTIFICACAO_DESTINO=seu-email@exemplo.com

# TODO: Configurar provedor de email (SendGrid, AWS SES, Resend, etc)
# EMAIL_SERVICE_API_KEY=sua-chave-api
# EMAIL_FROM=noreply@seudominio.com

# ============================================
# MONITORAMENTO E ANALYTICS (RECOMENDADO)
# ============================================

# Sentry.io DSN para Error Tracking
# Crie projeto gratuito em: https://sentry.io/signup/
# Obtenha DSN em: https://sentry.io/settings/projects/{seu-projeto}/keys/
VITE_SENTRY_DSN=https://your-key@your-org.ingest.sentry.io/your-project-id

# Versão da aplicação (para releases no Sentry)
VITE_APP_VERSION=1.0.0

# ✅ LGPD: Habilita PII Filtering automático (default: true em produção)
# Sanitiza CPF, email, telefone, etc. antes de enviar para Sentry
VITE_ENABLE_PII_FILTERING=true

# Google Tag Manager ID
# Crie conta em: https://tagmanager.google.com/
VITE_GTM_ID=GTM-XXXXXXX

# Google Analytics 4 Measurement ID
# Crie propriedade em: https://analytics.google.com/
VITE_GA4_ID=G-XXXXXXXXXX

# ============================================
# TRACING E OBSERVABILIDADE (OPENTELEMETRY)
# ============================================

# Endpoint OTLP para exportar traces (HTTP)
#
# Opções de configuração:
#
# 1. AI Toolkit Trace Viewer (Desenvolvimento - Padrão)
#    VITE_OTLP_ENDPOINT=http://localhost:4319/v1/traces
#    Uso: Visualizar traces localmente durante desenvolvimento
#    Como ativar: Ctrl+Shift+P → "AI Toolkit: Open Trace Viewer"
#
# 2. Azure Monitor / Application Insights (Produção)
#    VITE_OTLP_ENDPOINT=https://YOUR-REGION.monitor.azure.com/v1/traces
#    Uso: Monitoramento em produção com Azure
#    Como obter: Portal Azure → Application Insights → Configure OpenTelemetry
#
# 3. Datadog (Produção)
#    VITE_OTLP_ENDPOINT=https://api.datadoghq.com/api/v2/traces
#    Uso: APM e distributed tracing em produção
#    Requer: DD-API-KEY header configurado
#
# 4. Honeycomb (Produção)
#    VITE_OTLP_ENDPOINT=https://api.honeycomb.io/v1/traces
#    Uso: Observabilidade detalhada em produção
#    Requer: X-Honeycomb-Team header
#
# 5. Jaeger (Self-hosted)
#    VITE_OTLP_ENDPOINT=http://your-jaeger-host:4318/v1/traces
#    Uso: Tracing self-hosted para ambientes corporativos
#
# 6. Desabilitar tracing (comentar ou deixar vazio)
#    # VITE_OTLP_ENDPOINT=
#    Sistema funciona normalmente sem exportar traces
#
# ⚠️ Nota: Em produção, sempre use HTTPS para segurança

VITE_OTLP_ENDPOINT=http://localhost:4318/v1/traces

# ============================================
# CONFIGURAÇÃO DO GITHUB OAUTH (OPCIONAL)
# ============================================
# GitHub Developer Settings: https://github.com/settings/developers
# Documentação: OAUTH_SETUP.md

# Client ID do GitHub OAuth App
VITE_GITHUB_OAUTH_CLIENT_ID=your-github-client-id

# Client Secret do GitHub OAuth App
GITHUB_OAUTH_CLIENT_SECRET=your-github-client-secret

# ============================================
# CONFIGURAÇÃO DO GITLAB OAUTH (OPCIONAL)
# ============================================
# GitLab User Settings: https://gitlab.com/-/profile/applications
# Documentação: OAUTH_SETUP.md

# Client ID do GitLab OAuth App
GITLAB_CLIENT_ID=your-gitlab-client-id

# Client Secret do GitLab OAuth App
GITLAB_CLIENT_SECRET=your-gitlab-client-secret

# URI de redirecionamento para GitLab OAuth
GITLAB_REDIRECT_URI=https://assistente-juridico-p.vercel.app/api/auth/callback/gitlab

# ============================================
# APIs EXTERNAS (OPCIONAL)
# ============================================

# DataJud API (para consulta de publicações)
VITE_DATAJUD_API_KEY=your-datajud-api-key
DATAJUD_API_KEY=your-datajud-api-key
URL_BASE_DATAJUD=https://api.datajud.example.com

# ============================================
# EXTENSÃO - ERROS
# ============================================
# Chave que a extensão usa ao enviar relatórios de erro para /api/extension-errors
# Defina essa variável para habilitar autenticação nas requisições de erro da extensão.
EXTENSION_ERRORS_API_KEY=

# Google API Key (Deprecated - Use VITE_GEMINI_API_KEY)
VITE_GOOGLE_API_KEY=your-google-api-key

# ============================================
# GEMINI AI (OBRIGATÓRIO - Core do sistema)
# ============================================
# Google AI Studio: https://aistudio.google.com/app/apikey
# Documentação: https://ai.google.dev/gemini-api/docs/api-key

# API Key do Google Gemini (OBRIGATÓRIO para agentes funcionarem)
VITE_GEMINI_API_KEY=your-gemini-api-key-here

# Modelo padrão (gemini-2.5-pro, gemini-2.5-flash)
VITE_GEMINI_MODEL=gemini-2.5-pro

# ============================================
# RABBITMQ / CLOUDAMQP (OPCIONAL - Fila de Mensagens)
# ============================================
# CloudAMQP: https://www.cloudamqp.com/
# RabbitMQ Cloud: https://www.rabbitmq.com/
# Documentação: https://www.cloudamqp.com/docs/index.html

# URL de conexão RabbitMQ (AMQP URL completa)
# Formato: amqp://username:password@host:port/vhost
# Exemplo CloudAMQP: amqps://username:password@instance.cloudamqp.com/vhost
RABBITMQ_URL=

# Chave de API RabbitMQ (se aplicável - CloudAMQP Management API)
# Obtenha em: CloudAMQP Dashboard → API Access → API Key
RABBITMQ_API_KEY=

# ============================================
# POSTGRESQL (OBRIGATÓRIO - Armazenamento de Minutas)
# ============================================
# URL de conexão PostgreSQL (Neon, Supabase, Railway, etc.)
# Formato: postgres://user:password@host:port/database?sslmode=require
DATABASE_URL=

# ============================================
# UPSTASH REDIS/KV (OBRIGATÓRIO - Persistência)
# ============================================
# Upstash Console: https://console.upstash.com/redis
# Documentação: docs/UPSTASH_SETUP.md

# URL REST do Upstash Redis (OBRIGATÓRIO)
UPSTASH_REDIS_REST_URL=https://your-endpoint.upstash.io

# Token de autenticação REST (OBRIGATÓRIO)
UPSTASH_REDIS_REST_TOKEN=your-token-here

# ============================================
# QDRANT VECTOR DB (OPCIONAL - Pesquisa Jurisprudencial)
# ============================================
# Qdrant Cloud: https://cloud.qdrant.io/
# Documentação: docs/QDRANT_SETUP_CHECKLIST.md

# URL do cluster Qdrant (OPCIONAL - necessário para pesquisa jurisprudencial)
QDRANT_URL=https://your-cluster-id.cloud.qdrant.io:6333

# API Key do Qdrant
QDRANT_API_KEY=your-qdrant-api-key

# Nome da collection (default: legal_docs)
QDRANT_COLLECTION=legal_docs

# Dimensões do vetor (768 para Gemini text-embedding-004)
QDRANT_VECTOR_SIZE=768

# ============================================
# DSPY BRIDGE (OPCIONAL - Otimização de Prompts)
# ============================================
# DSPy: https://github.com/stanfordnlp/dspy
# Documentação: docs/DSPY_BRIDGE_SETUP.md

# URL do serviço DSPy Bridge (OPCIONAL)
DSPY_BRIDGE_URL=http://localhost:8765
# ou para Railway/produção:
# DSPY_BRIDGE_URL=https://your-app.railway.app

# Token de autenticação DSPy
DSPY_API_TOKEN=your-secure-dspy-token

# Porta local (default: 8765)
DSPY_PORT=8765

# ============================================
# EMAIL API (OPCIONAL - Notificações)
# ============================================
# Resend: https://resend.com/
# Documentação: docs/EMAIL_SETUP.md

# API Key do Resend (OPCIONAL - necessário para enviar emails)
RESEND_API_KEY=re_your_api_key_here

# Email remetente verificado
EMAIL_FROM=noreply@yourdomain.com

# Email para notificações importantes
ADMIN_EMAIL=admin@yourdomain.com

# ============================================
# TODOIST (OPCIONAL - Integração de Tarefas)
# ============================================
# Todoist: https://todoist.com/app/settings/integrations/developer
# Nota: Integração via stub no frontend, API real apenas em /api

# API Token do Todoist (OPCIONAL)
TODOIST_API_TOKEN=your-todoist-token

# ============================================
# CHROME EXTENSION (OPCIONAL)
# ============================================
# Documentação: chrome-extension-pje/README.md

# Chave para autenticar extensão ao enviar erros
EXTENSION_ERRORS_API_KEY=your-extension-error-key

# ============================================
# DEPLOYMENT (VERCEL)
# ============================================
# Vercel Dashboard: https://vercel.com/dashboard

# URL base da aplicação (produção)
VITE_API_TARGET=https://assistente-juridico-github.vercel.app

# Região preferencial (gru1 = São Paulo)
VERCEL_REGION=gru1

# ============================================
# DEVELOPMENT
# ============================================

# Porta do dev server (default: 5173)
VITE_PORT=5173

# Modo de desenvolvimento
NODE_ENV=development

# ============================================
# SEGURANÇA & LGPD
# ============================================

# Habilita PII Filtering automático (CPF, email, telefone, etc.)
VITE_ENABLE_PII_FILTERING=true

# Nível de log (error, warn, info, debug)
VITE_LOG_LEVEL=info

# ============================================
# AI PROVIDERS (OBRIGATÓRIO - Motor Principal de IA)
# ============================================

# Google Gemini 2.5 Pro - Motor principal de IA dos agentes
# Obtenha GRATUITAMENTE em: https://aistudio.google.com/app/apikey
# Limite gratuito: 1500 requests/dia (suficiente para escritório pequeno/médio)
VITE_GEMINI_API_KEY=your-gemini-api-key-here
GEMINI_API_KEY=your-gemini-api-key-here

# ============================================
# AI PROVIDERS (OPCIONAL - Alternativas/Complementos)
# ============================================

# Tavily API - Pesquisa web otimizada para IA
# Obtenha em: https://tavily.com/
VITE_TAVILY_API_KEY=tvly-your-api-key-here

# Hugging Face API (gratuito ~30k tokens/mês)
# Obtenha em: https://huggingface.co/settings/tokens
VITE_HUGGINGFACE_API_KEY=hf_your-token-here

# GitHub Models (gratuito com conta GitHub)
# Use seu GitHub Personal Access Token
VITE_GITHUB_TOKEN=ghp_your-token-here

# Azure OpenAI (requer assinatura Azure ativa)
VITE_AZURE_OPENAI_KEY=your-azure-openai-key
VITE_AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/

# ============================================
# TODOIST INTEGRATION (OPCIONAL)
# ============================================

# Todoist API Token para gerenciamento de tarefas
# Obtenha em: https://todoist.com/app/settings/integrations/developer
VITE_TODOIST_API_KEY=your-todoist-api-token

# ============================================
# SONARQUBE / SONARCLOUD (RECOMENDADO)
# ============================================

# SonarCloud Token para análise de código
# Obtenha em: https://sonarcloud.io/account/security
# Tipo: User Token (NÃO use Project Token)
SONARQUBE_TOKEN=your-sonarcloud-user-token

# ============================================
# PUSH NOTIFICATIONS (OPCIONAL)
# ============================================

# VAPID Public Key para Web Push Notifications
VAPID_PUBLIC_KEY=your-vapid-public-key

# ============================================
# WEBHOOKS (OPCIONAL - PARA SEGURANÇA)
# ============================================

# Secret para validar webhooks do GitHub (HMAC SHA256)
# Gere um secret aleatório seguro (mínimo 32 caracteres)
WEBHOOK_SECRET=your-github-webhook-secret

# Secret para validar webhooks do Todoist (HMAC SHA256)
# Configure no painel do Todoist em Developer Settings
TODOIST_WEBHOOK_SECRET=your-todoist-webhook-secret

# Secret para webhooks do Vercel (deploy notifications)
# Configurado automaticamente pelo Vercel
VERCEL_WEBHOOK_SECRET=your-vercel-webhook-secret

# ============================================
# TESTES E2E (PLAYWRIGHT)
# ============================================

# Credenciais para testes automáticos E2E
# Use credenciais de teste válidas ou deixe em branco para testes sem autenticação
TEST_USER_EMAIL=adm
TEST_USER_PASSWORD=adm123

# URL base para testes (padrão: servidor dev local)
BASE_URL=http://127.0.0.1:5173

# Usar ambiente de produção nos testes (true/false)
USE_PROD_BASE_URL=false

# Pular setup de autenticação nos testes E2E (recomendado se app não tem login)
SKIP_AUTH_SETUP=false

# ============================================
# SONAR COPILOT ASSISTANT (OPCIONAL)
# ============================================
# Tokens devem estar em User Settings (JSON), não aqui
# Veja: docs/SONAR_COPILOT_ASSISTANT_SETUP.md

# SonarCloud Organization Key
SONAR_ORGANIZATION=thiagobodevan-a11y-assistente-juridico-p

# SonarCloud Project Key
SONAR_PROJECT_KEY=thiagobodevan-a11y_assistente-juridico-p

# GitHub Repository (para PRs automáticos)
GITHUB_REPOSITORY=thiagobodevan-a11y/assistente-juridico-p

# ============================================
# NOTAS IMPORTANTES
# ============================================
#
# 1. Variáveis com prefixo VITE_ são expostas ao código frontend
# 2. Nunca commite este arquivo com valores reais (.env está no .gitignore)
# 3. Para produção no Vercel, configure essas variáveis no Vercel Dashboard
# 4. Consulte VERCEL_BUILD_CONFIGURATION.md para instruções de deploy
# 5. Consulte OAUTH_SETUP.md para configurar o Google OAuth
# 6. Para testes E2E, configure TEST_USER_EMAIL e TEST_USER_PASSWORD (padrão: adm/adm123)
# 7. Para Sonar Copilot Assistant, configure tokens em User Settings (veja docs/SONAR_COPILOT_ASSISTANT_SETUP.md)

# ============================================
# DATADOG APM (RAILWAY / PRODUÇÃO)
# ============================================
# Datadog API Key (obtenha em: https://app.datadoghq.com/organization-settings/api-keys)
DD_API_KEY=

# Site do Datadog (us5, us1, eu, etc.)
DD_SITE=us5.datadoghq.com

# Nome do serviço no APM
DD_SERVICE=assistente-juridico-api

# Ambiente (dev, staging, production)
DD_ENV=production

# Versão do app (para rastrear releases)
DD_VERSION=1.0.0

# Habilitar tracing (true em produção)
DD_TRACE_ENABLED=true

# Injetar trace_id nos logs (correlação)
DD_LOGS_INJECTION=true

# Métricas de runtime (CPU, memória)
DD_RUNTIME_METRICS_ENABLED=true

# Profiling (opcional - adiciona overhead)
DD_PROFILING_ENABLED=false

# ============================================
# GITHUB MCP SERVER (local) - Token PAT
# ============================================
# GitHub Personal Access Token (usado ao rodar o GitHub MCP Server em Docker)
# Ex.: export GITHUB_MCP_PAT=ghp_xxx
GITHUB_MCP_PAT=

# ============================================
# DATABASE (UPSTASH REDIS)
# ============================================

# Upstash Redis REST URL (para Vercel KV)
# Obtenha em: https://console.upstash.com/redis
UPSTASH_REDIS_REST_URL=https://your-redis-url.upstash.io

# Upstash Redis REST Token
# Obtenha em: https://console.upstash.com/redis
UPSTASH_REDIS_REST_TOKEN=your-redis-token

# ============================================
# HYBRID AI ARCHITECTURE (OPTIONAL - ADVANCED)
# ============================================

# AutoGen Orchestrator API Key
# Set a secure random key for multi-agent orchestration API
AUTOGEN_API_KEY=your-autogen-api-key-here
# Example: generate a secure API key:
# openssl rand -hex 32

# Qdrant Vector Database (Cloud)
# URL for Qdrant Cloud instance
# Exemplo: https://4aee698c-53f6-4571-8f41-eb80f56ff1f2.us-east4-0.gcp.cloud.qdrant.io:6333
VITE_QDRANT_URL=https://your-cluster-id.region.gcp.cloud.qdrant.io:6333
# API key for Qdrant authentication (obter em https://cloud.qdrant.io)
VITE_QDRANT_API_KEY=your-qdrant-api-key-here
# Example: generate a secure key:
# openssl rand -hex 32
# Collection name for vector storage
VITE_QDRANT_COLLECTION=legal_docs

# DSPy Bridge Service
# URL for DSPy bridge (use http://localhost:8765 for local)
VITE_DSPY_URL=http://localhost:8765
# API token for DSPy bridge (must match DSPY_API_TOKEN in bridge service)
VITE_DSPY_API_TOKEN=your-secure-random-token-here
# Example: generate a secure token:
# openssl rand -hex 32

# DSPy Bridge Configuration (for running the Python bridge service)
# Token for authentication (REQUIRED - set before starting bridge)
DSPY_API_TOKEN=your-secure-random-token-here
# Example: generate a secure token:
# openssl rand -hex 32
# Port for DSPy bridge service (default: 8765)
DSPY_PORT=8765
# Allowed CORS origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# ============================================
# OBSERVABILITY API (OPTIONAL)
# ============================================

# API Key para acesso ao endpoint /api/observability
# Use um token aleatório seguro (mínimo 32 caracteres)
OBSERVABILITY_API_KEY=your-observability-api-key-here

# ============================================
# HAYSTACK RAG INTEGRATION (OPTIONAL - ADVANCED)
# ============================================

# Haystack API endpoint for RAG pipelines
HAYSTACK_API_URL=http://localhost:8000
# Haystack API key (if using authentication)
HAYSTACK_API_KEY=your-haystack-api-key-here

# ============================================
# SENTRY AI MONITORING (RECOMMENDED FOR PRODUCTION)
# ============================================

# Enable AI/LLM monitoring in Sentry (default: true)
SENTRY_AI_MONITORING_ENABLED=true
# Sample rate for AI spans (0.0 to 1.0, default: 0.5)
SENTRY_AI_SAMPLE_RATE=0.5


# ============================================
# CHROMA SYNC (CHROMA CLOUD) - INDEXAÇÃO DO REPO
# ============================================
# Token do Chroma Sync (criar no painel Chroma Cloud)
CHROMA_SYNC_TOKEN=

# Nome do database no Chroma Cloud
CHROMA_SYNC_DATABASE_NAME=

# Modelo de embedding (docs do Chroma Sync)
CHROMA_SYNC_EMBEDDING_MODEL=Qwen/Qwen3-Embedding-0.6B

# Repositório GitHub (owner/repo)
CHROMA_SYNC_GITHUB_REPOSITORY=portprojetoautomacao-debug/assistente-jur-dico-principalrepli

# Branch alvo para indexação
CHROMA_SYNC_REF_BRANCH=main

# Nome da collection destino
CHROMA_SYNC_TARGET_COLLECTION=repo-main

# Globs opcionais (CSV). Se vazio, indexa tudo.
CHROMA_SYNC_INCLUDE_GLOBS=src/**/*.{ts,tsx},api/**/*.{ts,tsx,md},backend/src/**/*.ts,docs/**/*.md,.github/workflows/**/*.yml,package.json,README.md

# ============================================
# CHROMA CLOUD (API DO BANCO - RAG)
# ============================================
# API Key do Chroma Cloud (para consultas)
CHROMA_API_KEY=
CHROMA_CLOUD_API_KEY=

# Tenant ID (painel Chroma Cloud)
CHROMA_TENANT=

# Nome do database (ex: Demo)
CHROMA_DATABASE=

# Collection (ex: portprojetoautomacao_debug_assistente_jur_dico_principalrepli_main)
CHROMA_COLLECTION_NAME=portprojetoautomacao_debug_assistente_jur_dico_principalrepli_main

